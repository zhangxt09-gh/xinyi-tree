(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[871],{97147:function(e,t,s){Promise.resolve().then(s.bind(s,49481))},32275:function(e,t,s){"use strict";s.d(t,{Z:function(){return m}});var l=s(64090);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()},r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),n=e=>{let t=i(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1},o=(0,l.forwardRef)((e,t)=>{let{color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:o="",children:m,iconNode:x,...u}=e;return(0,l.createElement)("svg",{ref:t,...d,width:r,height:r,stroke:s,strokeWidth:n?24*Number(i)/Number(r):i,className:a("lucide",o),...!m&&!c(u)&&{"aria-hidden":"true"},...u},[...x.map(e=>{let[t,s]=e;return(0,l.createElement)(t,s)}),...Array.isArray(m)?m:[m]])}),m=(e,t)=>{let s=(0,l.forwardRef)((s,i)=>{let{className:d,...c}=s;return(0,l.createElement)(o,{ref:i,iconNode:t,className:a("lucide-".concat(r(n(e))),"lucide-".concat(e),d),...c})});return s.displayName=n(e),s}},80037:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(32275).Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},18727:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(32275).Z)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},75879:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(32275).Z)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},49481:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var l=s(3827),a=s(64090),r=s(8792),i=s(32275);let n=(0,i.Z)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),d=(0,i.Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var c=s(18727),o=s(75879);let m=(0,i.Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var x=s(80037);let u=[{id:"happy",emoji:"\uD83D\uDE0A",label:"开心"},{id:"excited",emoji:"\uD83E\uDD29",label:"超棒"},{id:"calm",emoji:"\uD83D\uDE0C",label:"平静"},{id:"love",emoji:"\uD83E\uDD70",label:"喜欢"},{id:"surprise",emoji:"\uD83D\uDE2E",label:"惊喜"},{id:"thinking",emoji:"\uD83E\uDD14",label:"在想"}],h=[{id:"family",emoji:"\uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC67",label:"家人"},{id:"friends",emoji:"\uD83D\uDC6B",label:"朋友"},{id:"nature",emoji:"\uD83C\uDF33",label:"自然"},{id:"animals",emoji:"\uD83D\uDC31",label:"动物"},{id:"dreams",emoji:"\uD83D\uDCAD",label:"梦想"},{id:"adventure",emoji:"\uD83D\uDE80",label:"冒险"}],f=[{id:1,title:"春天的花园",author:"小明",gradient:"from-green-200 to-yellow-200",emoji:"\uD83C\uDF38",stars:15},{id:2,title:"我的小狗",author:"小红",gradient:"from-orange-200 to-pink-200",emoji:"\uD83D\uDC15",stars:22},{id:3,title:"彩虹桥",author:"小华",gradient:"from-red-200 via-yellow-200 to-blue-200",emoji:"\uD83C\uDF08",stars:18},{id:4,title:"太空冒险",author:"小李",gradient:"from-indigo-200 to-purple-200",emoji:"\uD83D\uDE80",stars:25}];function j(){var e;let[t,s]=(0,a.useState)("select"),[i,j]=(0,a.useState)(null),[g,p]=(0,a.useState)(null),[b,v]=(0,a.useState)(null),[w,N]=(0,a.useState)([]),[y,D]=(0,a.useState)(!1),k=(0,a.useRef)(null),C=()=>{var e;null===(e=k.current)||void 0===e||e.click()},Z=e=>{v(e),s("theme")},E=e=>{N(t=>t.includes(e)?t.filter(t=>t!==e):t.length<3?[...t,e]:t)},A=async()=>{D(!0),await new Promise(e=>setTimeout(e,2e3)),D(!1),s("done")};return(0,l.jsxs)("div",{className:"pb-24 min-h-[calc(100vh-200px)]",children:["select"!==t&&"done"!==t&&(0,l.jsx)("div",{className:"flex items-center justify-center gap-2 mb-6",children:["mood","theme"].map((e,s)=>(0,l.jsx)("div",{className:"w-3 h-3 rounded-full transition-colors ".concat(t===e?"bg-primary-500 scale-125":["mood","theme"].indexOf(t)>s?"bg-primary-300":"bg-gray-200")},e))}),"select"===t&&(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h2",{className:"text-2xl font-display font-bold text-gray-800 mb-2",children:"分享你的画作"}),(0,l.jsx)("p",{className:"text-gray-500 mb-8",children:"拍照或从相册选择你的作品"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 max-w-md mx-auto",children:[(0,l.jsxs)("button",{onClick:C,className:"aspect-square bg-white rounded-3xl shadow-lg hover:shadow-xl transition-all flex flex-col items-center justify-center gap-3 group",children:[(0,l.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-400 to-blue-600 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,l.jsx)(n,{className:"w-10 h-10 text-white"})}),(0,l.jsx)("span",{className:"font-display font-bold text-lg",children:"拍照"})]}),(0,l.jsxs)("button",{onClick:C,className:"aspect-square bg-white rounded-3xl shadow-lg hover:shadow-xl transition-all flex flex-col items-center justify-center gap-3 group",children:[(0,l.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-400 to-pink-500 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,l.jsx)(d,{className:"w-10 h-10 text-white"})}),(0,l.jsx)("span",{className:"font-display font-bold text-lg",children:"相册"})]})]}),(0,l.jsx)("input",{ref:k,type:"file",accept:"image/*",capture:"environment",onChange:e=>{var t;let l=null===(t=e.target.files)||void 0===t?void 0:t[0];l&&(j(l),p(URL.createObjectURL(l)),s("mood"))},className:"hidden"}),(0,l.jsxs)("div",{className:"mt-8 bg-white/60 rounded-2xl p-4 max-w-md mx-auto",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 text-primary-600",children:[(0,l.jsx)(c.Z,{className:"w-5 h-5"}),(0,l.jsx)("span",{className:"font-medium",children:"小提示"})]}),(0,l.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"把画放在光线好的地方拍照，这样会更清楚哦！"})]}),(0,l.jsxs)("div",{className:"mt-8 max-w-md mx-auto",children:[(0,l.jsxs)("h3",{className:"font-display font-bold text-lg text-gray-700 mb-4 flex items-center gap-2",children:[(0,l.jsx)(o.Z,{className:"w-5 h-5 text-yellow-500"}),"最近上传的小伙伴"]}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-3",children:f.map(e=>(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-all",children:[(0,l.jsx)("div",{className:"h-20 bg-gradient-to-br ".concat(e.gradient," flex items-center justify-center"),children:(0,l.jsx)("span",{className:"text-3xl",children:e.emoji})}),(0,l.jsxs)("div",{className:"p-2",children:[(0,l.jsx)("div",{className:"font-bold text-sm truncate",children:e.title}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[(0,l.jsx)("span",{children:e.author}),(0,l.jsxs)("span",{className:"flex items-center gap-0.5",children:[(0,l.jsx)(o.Z,{className:"w-3 h-3 text-yellow-400 fill-current"}),e.stars]})]})]})]},e.id))}),(0,l.jsx)("p",{className:"text-center text-gray-400 text-sm mt-4",children:"快来分享你的画作，和小伙伴们一起获得星星吧！"})]}),(0,l.jsxs)("div",{className:"mt-8 max-w-md mx-auto bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-4",children:[(0,l.jsx)("h3",{className:"font-display font-bold text-gray-700 mb-3",children:"上传步骤"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold text-sm",children:"1"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium text-gray-800",children:"选择图片"}),(0,l.jsx)("div",{className:"text-xs text-gray-500",children:"拍照或从相册选择你的画作"})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center font-bold text-sm",children:"2"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium text-gray-800",children:"选择心情"}),(0,l.jsx)("div",{className:"text-xs text-gray-500",children:"告诉大家画画时你的心情"})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-pink-500 text-white rounded-full flex items-center justify-center font-bold text-sm",children:"3"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium text-gray-800",children:"添加标签"}),(0,l.jsx)("div",{className:"text-xs text-gray-500",children:"选择画的主题，让更多人看到"})]})]})]})]})]}),"mood"===t&&(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("button",{onClick:()=>s("select"),className:"absolute top-4 left-4 p-2 hover:bg-white/50 rounded-full",children:(0,l.jsx)(m,{className:"w-6 h-6"})}),g&&(0,l.jsx)("div",{className:"w-48 h-48 mx-auto mb-6 rounded-3xl overflow-hidden shadow-lg",children:(0,l.jsx)("img",{src:g,alt:"Preview",className:"w-full h-full object-cover"})}),(0,l.jsx)("h2",{className:"text-2xl font-display font-bold text-gray-800 mb-2",children:"画这幅画时你的心情是？"}),(0,l.jsx)("p",{className:"text-gray-500 mb-6",children:"选一个表情告诉我吧"}),(0,l.jsx)("div",{className:"grid grid-cols-3 gap-4 max-w-sm mx-auto",children:u.map(e=>(0,l.jsxs)("button",{onClick:()=>Z(e.id),className:"p-4 bg-white rounded-2xl shadow-md hover:shadow-lg transition-all hover:scale-105 ".concat(b===e.id?"ring-4 ring-primary-500":""),children:[(0,l.jsx)("div",{className:"text-4xl mb-1",children:e.emoji}),(0,l.jsx)("div",{className:"text-sm font-medium",children:e.label})]},e.id))})]}),"theme"===t&&(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("button",{onClick:()=>s("mood"),className:"absolute top-4 left-4 p-2 hover:bg-white/50 rounded-full",children:(0,l.jsx)(m,{className:"w-6 h-6"})}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-6",children:[g&&(0,l.jsx)("div",{className:"w-32 h-32 rounded-2xl overflow-hidden shadow-lg",children:(0,l.jsx)("img",{src:g,alt:"Preview",className:"w-full h-full object-cover"})}),(0,l.jsx)("div",{className:"text-4xl",children:null===(e=u.find(e=>e.id===b))||void 0===e?void 0:e.emoji})]}),(0,l.jsx)("h2",{className:"text-2xl font-display font-bold text-gray-800 mb-2",children:"画的是什么呢？"}),(0,l.jsx)("p",{className:"text-gray-500 mb-6",children:"可以选最多3个标签"}),(0,l.jsx)("div",{className:"grid grid-cols-3 gap-3 max-w-sm mx-auto mb-6",children:h.map(e=>(0,l.jsxs)("button",{onClick:()=>E(e.id),className:"p-3 rounded-2xl transition-all ".concat(w.includes(e.id)?"bg-primary-500 text-white shadow-lg scale-105":"bg-white shadow-md hover:shadow-lg"),children:[(0,l.jsx)("div",{className:"text-3xl mb-1",children:e.emoji}),(0,l.jsx)("div",{className:"text-sm font-medium",children:e.label})]},e.id))}),(0,l.jsx)("button",{onClick:A,disabled:y,className:"w-full max-w-sm mx-auto py-4 bg-gradient-to-r from-primary-500 to-pink-500 text-white rounded-2xl font-display font-bold text-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-70 flex items-center justify-center gap-2",children:y?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"正在上传..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.Z,{className:"w-5 h-5"}),"完成！分享我的画"]})}),(0,l.jsx)("button",{onClick:()=>A(),className:"mt-3 text-gray-400 text-sm hover:text-gray-600",children:"跳过标签"})]}),"done"===t&&(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center animate-bounce",children:(0,l.jsx)(x.Z,{className:"w-12 h-12 text-white"})}),(0,l.jsx)("h2",{className:"text-3xl font-display font-bold text-gray-800 mb-2",children:"太棒了！"}),(0,l.jsx)("p",{className:"text-gray-500 mb-2",children:"你的画作已经分享成功啦"}),(0,l.jsx)("p",{className:"text-primary-600 font-medium mb-8",children:"获得 +10 ⭐"}),g&&(0,l.jsx)("div",{className:"w-48 h-48 mx-auto mb-8 rounded-3xl overflow-hidden shadow-lg",children:(0,l.jsx)("img",{src:g,alt:"Uploaded",className:"w-full h-full object-cover"})}),(0,l.jsxs)("div",{className:"flex flex-col gap-3 max-w-sm mx-auto",children:[(0,l.jsx)(r.default,{href:"/child/gallery",className:"py-3 bg-white rounded-2xl font-display font-bold shadow-md hover:shadow-lg transition-all",children:"去画廊看看 \uD83D\uDDBC️"}),(0,l.jsx)("button",{onClick:()=>{s("select"),j(null),p(null),v(null),N([])},className:"py-3 bg-gradient-to-r from-primary-500 to-pink-500 text-white rounded-2xl font-display font-bold shadow-md hover:shadow-lg transition-all",children:"继续分享 ✨"})]})]})]})}}},function(e){e.O(0,[792,971,69,744],function(){return e(e.s=97147)}),_N_E=e.O()}]);