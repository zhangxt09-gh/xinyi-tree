(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[793],{80954:function(e,s,t){Promise.resolve().then(t.bind(t,30965))},59496:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});let l=(0,t(32275).Z)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},26490:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});let l=(0,t(32275).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},30965:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return O}});var l=t(3827),a=t(64090),r=t(77819),d=t(94830),i=t(38333),n=t(23356),c=t(22983),o=t(96528),x=t(6541),m=t(51161),h=t(81433),p=t(12596),g=t(33538),j=t(93290),f=["axis"],y=(0,a.forwardRef)((e,s)=>a.createElement(j.R,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:f,tooltipPayloadSearcher:g.NL,categoricalChartProps:e,ref:s})),u=t(98964),b=t(23441),v=t(26490),N=t(29733),w=t(59496),k=t(32275);let C=(0,k.Z)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),K=(0,k.Z)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var S=t(97307);let Z=[{month:"9月",energy:.32,confidence:.35,expression:.4,sessions:4},{month:"10月",energy:.38,confidence:.42,expression:.48,sessions:4},{month:"11月",energy:.45,confidence:.5,expression:.55,sessions:5},{month:"12月",energy:.52,confidence:.58,expression:.62,sessions:4},{month:"1月",energy:.62,confidence:.68,expression:.72,sessions:3}],D=[{date:"2024-09-15",title:"开始疗愈",description:"第一次会话",type:"start",completed:!0},{date:"2024-10-05",title:"首次主动分享",description:"主动讲述画作故事",type:"milestone",completed:!0},{date:"2024-10-20",title:"色彩突破",description:"开始使用暖色调",type:"milestone",completed:!0},{date:"2024-11-10",title:"情绪表达",description:"能够用语言描述感受",type:"milestone",completed:!0},{date:"2024-12-01",title:"社交进步",description:"主动与其他孩子互动",type:"milestone",completed:!0},{date:"2025-01-15",title:"自信建立",description:"展示作品给家长看",type:"milestone",completed:!1},{date:"2025-02-01",title:"阶段目标",description:"独立完成主题创作",type:"goal",completed:!1}],G=[{id:1,title:"完成2次画作讨论",progress:100,completed:!0},{id:2,title:"尝试新的色彩组合",progress:75,completed:!1},{id:3,title:"分享一个开心的事情",progress:50,completed:!1},{id:4,title:"独立选择创作主题",progress:0,completed:!1}],z=[{id:1,name:"小明",startDate:"2024-09-15"},{id:2,name:"小红",startDate:"2024-11-01"},{id:3,name:"小华",startDate:"2024-12-01"}];function O(){let[e,s]=(0,a.useState)(z[0]),[t,g]=(0,a.useState)("overview"),j=Z.reduce((e,s)=>e+s.sessions,0),f=Z[Z.length-1].energy,k=Z[0].energy,O=((f-k)/k*100).toFixed(0),E=D.filter(e=>e.completed).length;return(0,l.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold",children:"进度跟踪"}),(0,l.jsx)("p",{className:"text-gray-500 mt-1",children:"追踪个案的发展进度和目标达成"})]}),(0,l.jsx)("div",{className:"flex items-center gap-3",children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("select",{value:e.id,onChange:e=>s(z.find(s=>s.id===Number(e.target.value))||z[0]),className:"appearance-none pl-4 pr-10 py-2 border border-gray-200 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-secondary-500",children:z.map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))}),(0,l.jsx)(b.Z,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[(0,l.jsx)("div",{className:"bg-white rounded-xl p-5 shadow-sm",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:(0,l.jsx)(v.Z,{className:"w-6 h-6 text-blue-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:j}),(0,l.jsx)("div",{className:"text-gray-500 text-sm",children:"总会话数"})]})]})}),(0,l.jsx)("div",{className:"bg-white rounded-xl p-5 shadow-sm",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:(0,l.jsx)(N.Z,{className:"w-6 h-6 text-green-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["+",O,"%"]}),(0,l.jsx)("div",{className:"text-gray-500 text-sm",children:"能量提升"})]})]})}),(0,l.jsx)("div",{className:"bg-white rounded-xl p-5 shadow-sm",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:(0,l.jsx)(w.Z,{className:"w-6 h-6 text-purple-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"text-2xl font-bold",children:[E,"/",D.length]}),(0,l.jsx)("div",{className:"text-gray-500 text-sm",children:"里程碑"})]})]})}),(0,l.jsx)("div",{className:"bg-white rounded-xl p-5 shadow-sm",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:(0,l.jsx)(C,{className:"w-6 h-6 text-orange-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"text-2xl font-bold",children:[G.filter(e=>e.completed).length,"/",G.length]}),(0,l.jsx)("div",{className:"text-gray-500 text-sm",children:"本周目标"})]})]})})]}),(0,l.jsx)("div",{className:"flex gap-2 mb-6",children:[{id:"overview",label:"总览"},{id:"milestones",label:"里程碑"},{id:"goals",label:"目标管理"}].map(e=>(0,l.jsx)("button",{onClick:()=>g(e.id),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat(t===e.id?"bg-secondary-500 text-white":"bg-white text-gray-600 hover:bg-gray-50"),children:e.label},e.id))}),"overview"===t&&(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"col-span-2 bg-white rounded-xl p-6 shadow-sm",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"综合发展趋势"}),(0,l.jsx)(r.h,{width:"100%",height:300,children:(0,l.jsxs)(d.T,{data:Z,children:[(0,l.jsxs)("defs",{children:[(0,l.jsxs)("linearGradient",{id:"energyGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,l.jsx)("stop",{offset:"5%",stopColor:"#f59e0b",stopOpacity:.3}),(0,l.jsx)("stop",{offset:"95%",stopColor:"#f59e0b",stopOpacity:0})]}),(0,l.jsxs)("linearGradient",{id:"confidenceGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,l.jsx)("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),(0,l.jsx)("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),(0,l.jsxs)("linearGradient",{id:"expressionGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,l.jsx)("stop",{offset:"5%",stopColor:"#22c55e",stopOpacity:.3}),(0,l.jsx)("stop",{offset:"95%",stopColor:"#22c55e",stopOpacity:0})]})]}),(0,l.jsx)(i.q,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,l.jsx)(n.K,{dataKey:"month",tick:{fontSize:12}}),(0,l.jsx)(c.B,{domain:[0,1],tick:{fontSize:12},tickFormatter:e=>"".concat((100*e).toFixed(0),"%")}),(0,l.jsx)(o.u,{formatter:e=>[(100*Number(e)).toFixed(0)+"%"],contentStyle:{borderRadius:8,border:"1px solid #e5e7eb"}}),(0,l.jsx)(x.D,{}),(0,l.jsx)(m.uN,{type:"monotone",dataKey:"energy",name:"能量水平",stroke:"#f59e0b",fill:"url(#energyGrad)",strokeWidth:2}),(0,l.jsx)(m.uN,{type:"monotone",dataKey:"confidence",name:"自信指标",stroke:"#3b82f6",fill:"url(#confidenceGrad)",strokeWidth:2}),(0,l.jsx)(m.uN,{type:"monotone",dataKey:"expression",name:"表达能力",stroke:"#22c55e",fill:"url(#expressionGrad)",strokeWidth:2})]})})]}),(0,l.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"会话频率"}),(0,l.jsx)(r.h,{width:"100%",height:200,children:(0,l.jsxs)(h.v,{data:Z,children:[(0,l.jsx)(i.q,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,l.jsx)(n.K,{dataKey:"month",tick:{fontSize:12}}),(0,l.jsx)(c.B,{tick:{fontSize:12}}),(0,l.jsx)(o.u,{contentStyle:{borderRadius:8,border:"1px solid #e5e7eb"}}),(0,l.jsx)(p.$Q,{dataKey:"sessions",name:"会话次数",fill:"#6366f1",radius:[4,4,0,0]})]})})]}),(0,l.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"当前状态"}),(0,l.jsx)("div",{className:"space-y-4",children:[{label:"能量水平",value:f,color:"bg-amber-500"},{label:"自信指标",value:Z[Z.length-1].confidence,color:"bg-blue-500"},{label:"表达能力",value:Z[Z.length-1].expression,color:"bg-green-500"}].map(e=>(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,l.jsx)("span",{className:"text-gray-600",children:e.label}),(0,l.jsxs)("span",{className:"font-medium",children:[(100*e.value).toFixed(0),"%"]})]}),(0,l.jsx)("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,l.jsx)("div",{className:"h-full ".concat(e.color," rounded-full transition-all duration-500"),style:{width:"".concat(100*e.value,"%")}})})]},e.label))})]})]}),"milestones"===t&&(0,l.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"发展里程碑"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"absolute left-6 top-0 bottom-0 w-0.5 bg-gray-200"}),(0,l.jsx)("div",{className:"space-y-6",children:D.map((e,s)=>(0,l.jsxs)("div",{className:"relative flex gap-4",children:[(0,l.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center z-10 ".concat(e.completed?"start"===e.type?"bg-blue-500":"bg-green-500":"goal"===e.type?"bg-orange-100 border-2 border-orange-500":"bg-gray-100 border-2 border-gray-300"),children:e.completed?(0,l.jsx)(K,{className:"w-6 h-6 text-white"}):"goal"===e.type?(0,l.jsx)(C,{className:"w-5 h-5 text-orange-500"}):(0,l.jsx)("div",{className:"w-3 h-3 bg-gray-300 rounded-full"})}),(0,l.jsxs)("div",{className:"flex-1 pb-6 ".concat(!e.completed&&"opacity-60"),children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,l.jsx)("h4",{className:"font-semibold",children:e.title}),(0,l.jsxs)("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[(0,l.jsx)(S.Z,{className:"w-3 h-3"}),e.date]}),!e.completed&&"goal"===e.type&&(0,l.jsx)("span",{className:"text-xs px-2 py-0.5 bg-orange-100 text-orange-600 rounded-full",children:"目标"})]}),(0,l.jsx)("p",{className:"text-gray-600 text-sm",children:e.description})]})]},s))})]})]}),"goals"===t&&(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold",children:"本周目标"}),(0,l.jsx)("button",{className:"text-sm text-secondary-500 hover:underline",children:"编辑目标"})]}),(0,l.jsx)("div",{className:"space-y-4",children:G.map(e=>(0,l.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center ".concat(e.completed?"bg-green-500 border-green-500":"border-gray-300"),children:e.completed&&(0,l.jsx)(K,{className:"w-4 h-4 text-white"})}),(0,l.jsx)("span",{className:e.completed?"text-gray-400 line-through":"",children:e.title})]}),(0,l.jsxs)("span",{className:"text-sm text-gray-500",children:[e.progress,"%"]})]}),(0,l.jsx)("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,l.jsx)("div",{className:"h-full rounded-full transition-all duration-300 ".concat(e.completed?"bg-green-500":"bg-secondary-500"),style:{width:"".concat(e.progress,"%")}})})]},e.id))})]}),(0,l.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"添加新目标"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"目标描述"}),(0,l.jsx)("input",{type:"text",placeholder:"例如：尝试使用三种以上颜色",className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"目标类型"}),(0,l.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-secondary-500",children:[(0,l.jsx)("option",{children:"短期目标（本周）"}),(0,l.jsx)("option",{children:"中期目标（本月）"}),(0,l.jsx)("option",{children:"长期目标（阶段）"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"关联维度"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:["情绪表达","社交能力","创造力","自信心","专注力"].map(e=>(0,l.jsx)("button",{className:"px-3 py-1 text-sm border border-gray-200 rounded-full hover:border-secondary-500 hover:text-secondary-500",children:e},e))})]}),(0,l.jsx)("button",{className:"w-full py-2 bg-secondary-500 text-white rounded-lg hover:bg-secondary-600",children:"添加目标"})]})]}),(0,l.jsxs)("div",{className:"col-span-2 bg-white rounded-xl p-6 shadow-sm",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"目标达成历史"}),(0,l.jsx)(r.h,{width:"100%",height:200,children:(0,l.jsxs)(y,{data:[{week:"第1周",completed:2,total:4},{week:"第2周",completed:3,total:4},{week:"第3周",completed:2,total:3},{week:"第4周",completed:4,total:4},{week:"第5周",completed:3,total:5},{week:"本周",completed:1,total:4}],children:[(0,l.jsx)(i.q,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,l.jsx)(n.K,{dataKey:"week",tick:{fontSize:12}}),(0,l.jsx)(c.B,{tick:{fontSize:12}}),(0,l.jsx)(o.u,{contentStyle:{borderRadius:8,border:"1px solid #e5e7eb"}}),(0,l.jsx)(x.D,{}),(0,l.jsx)(u.x1,{type:"monotone",dataKey:"completed",name:"已完成",stroke:"#22c55e",strokeWidth:2,dot:{fill:"#22c55e"}}),(0,l.jsx)(u.x1,{type:"monotone",dataKey:"total",name:"总目标",stroke:"#94a3b8",strokeWidth:2,strokeDasharray:"5 5"})]})})]})]})]})}}},function(e){e.O(0,[894,818,971,69,744],function(){return e(e.s=80954)}),_N_E=e.O()}]);