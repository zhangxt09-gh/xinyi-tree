(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[160],{27354:function(e,s,t){Promise.resolve().then(t.bind(t,73997))},32275:function(e,s,t){"use strict";t.d(s,{Z:function(){return x}});var a=t(64090);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()},r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,t)=>t?t.toUpperCase():s.toLowerCase()),i=e=>{let s=l(e);return s.charAt(0).toUpperCase()+s.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0;return!1},o=(0,a.forwardRef)((e,s)=>{let{color:t="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:x,iconNode:m,...u}=e;return(0,a.createElement)("svg",{ref:s,...c,width:r,height:r,stroke:t,strokeWidth:i?24*Number(l)/Number(r):l,className:n("lucide",o),...!x&&!d(u)&&{"aria-hidden":"true"},...u},[...m.map(e=>{let[s,t]=e;return(0,a.createElement)(s,t)}),...Array.isArray(x)?x:[x]])}),x=(e,s)=>{let t=(0,a.forwardRef)((t,l)=>{let{className:c,...d}=t;return(0,a.createElement)(o,{ref:l,iconNode:s,className:n("lucide-".concat(r(i(e))),"lucide-".concat(e),c),...d})});return t.displayName=i(e),t}},14562:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(32275).Z)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},37805:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(32275).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},62985:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(32275).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},79990:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(32275).Z)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},11213:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(32275).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},52235:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(32275).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},73997:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return y}});var a=t(3827),n=t(64090),r=t(14562),l=t(32275);let i=(0,l.Z)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),c=(0,l.Z)("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),d=(0,l.Z)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);var o=t(11213),x=t(79990),m=t(52235),u=t(62985),h=t(37805);let p=[{id:"first_meeting",name:"初次见面",icon:"\uD83D\uDC4B",description:"与孩子的第一次会面"},{id:"emotional_expression",name:"情绪表达",icon:"\uD83D\uDCAD",description:"帮助孩子表达情绪"},{id:"artwork_discussion",name:"作品讨论",icon:"\uD83C\uDFA8",description:"与孩子讨论其画作"},{id:"behavioral_guidance",name:"行为引导",icon:"\uD83C\uDF31",description:"引导孩子的行为"},{id:"crisis_intervention",name:"危机干预",icon:"\uD83D\uDEA8",description:"处理紧急情况"},{id:"parent_communication",name:"家长沟通",icon:"\uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC67",description:"与家长沟通孩子情况"}],f=[{role:"assistant",content:"您好！我是您的疗愈助手，可以帮助您准备与孩子的沟通话术、分析画作含义、处理棘手情况。请告诉我您需要什么帮助？",timestamp:new Date().toISOString()}],g={first_meeting:{tips:["使用温和友好的语气","给孩子足够的时间适应","不要急于获取信息","关注孩子的非语言信号"],mistakes:["问太多问题","过早进入深度话题","忽视孩子的不安"],examples:[{q:"孩子不愿说话",a:"没关系，我们可以先一起看看这些画笔和纸，你喜欢哪种颜色呢？"},{q:"孩子紧张",a:"我知道来一个新地方可能有点紧张，我们可以先四处看看。"}]},emotional_expression:{tips:["认可孩子的感受",'使用"我理解..."开头','避免说"不要哭"等否定语言',"提供安全的表达空间"],mistakes:["急于给建议","否定孩子的感受",'比较"其他孩子都不会这样"'],examples:[{q:'孩子说"我很难过"',a:"谢谢你告诉我你的感受。能告诉我是什么让你难过吗？"},{q:"孩子哭泣",a:"哭出来也没关系，我在这里陪着你。"}]},artwork_discussion:{tips:["先让孩子自己介绍作品","使用开放式问题","关注过程而非结果","不要解读或评判"],mistakes:['"这画的是什么？"（质疑语气）',"过度解读画作","评价画作好坏"],examples:[{q:"孩子画了一幅画",a:"你能告诉我你画的是什么吗？我很想听听你的故事。"},{q:"孩子不愿解释",a:"没关系，有时候画画本身就很有意思，不一定要解释。"}]},behavioral_guidance:{tips:["使用正向语言","设定清晰的边界","保持一致性","及时给予正向反馈"],mistakes:["使用威胁或恐吓","标签化孩子","在他人面前批评"],examples:[{q:"孩子不遵守规则",a:"我们一起回顾一下规则好吗？你觉得这样做会怎样呢？"}]},crisis_intervention:{tips:["保持冷静和专业","确保环境安全","倾听但不承诺","及时寻求支持"],mistakes:["表现出慌张","做出无法兑现的承诺","独自处理严重情况"],examples:[{q:"孩子表达自伤想法",a:"谢谢你信任我告诉我这些。你的安全很重要，我们一起想想怎么帮助你。"}]},parent_communication:{tips:["使用专业但易懂的语言","先倾听家长的担忧","提供具体可行的建议","建立合作关系"],mistakes:["指责家长","使用过多专业术语","给出不切实际的期望"],examples:[{q:"家长担心孩子",a:"我理解您的担忧。让我们一起看看孩子最近的情况，然后讨论可以怎么支持他/她。"}]}};function y(){let[e,s]=(0,n.useState)(f),[t,l]=(0,n.useState)(""),[y,j]=(0,n.useState)(!1),[N,b]=(0,n.useState)(null),[v,w]=(0,n.useState)(!1),k=(0,n.useRef)(null),D=()=>{var e;null===(e=k.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,n.useEffect)(()=>{D()},[e]);let Z=async()=>{if(!t.trim())return;let e={role:"user",content:t,timestamp:new Date().toISOString()};s(s=>[...s,e]),l(""),j(!0),setTimeout(()=>{let e={role:"assistant",content:C(t),timestamp:new Date().toISOString(),suggestions:["询问更多细节","获取话术示例","查看相关场景"]};s(s=>[...s,e]),j(!1)},1500)},C=e=>e.includes("话术")||e.includes("怎么说")?'在与孩子沟通时，建议采用开放式提问的方式。例如：\n\n1. "你能告诉我更多关于这幅画的故事吗？"\n2. "画这个的时候你有什么感觉？"\n3. "如果这幅画能说话，它会说什么呢？"\n\n记住要给孩子足够的时间思考和回应，不要急于引导答案。':e.includes("哭")||e.includes("情绪")?'当孩子表现出情绪波动时：\n\n✓ 首先认可他/她的感受："我看到你现在很难过"\n✓ 提供安全空间："哭出来也没关系，我在这里陪着你"\n✓ 等情绪稳定后再探索原因\n\n❌ 避免说"不要哭了"、"这有什么好难过的"等否定性语言':e.includes("家长")||e.includes("父母")?'与家长沟通时的建议：\n\n1. 先倾听家长的担忧，表示理解\n2. 用具体的观察而非评价来描述孩子的表现\n3. 提供可操作的建议而非抽象的理论\n4. 强调合作："我们一起来帮助孩子"\n\n例如："我注意到小明在画画时经常选择深色，这可能反映了他最近的情绪状态。在家里，您可以尝试..."':"感谢您的提问！根据您描述的情况，我建议采取以下方式：\n\n1. 保持开放和接纳的态度\n2. 使用温和的语调和简单的语言\n3. 给予孩子足够的时间和空间\n\n您可以告诉我更多具体的情境，我可以提供更针对性的话术建议。",_=e=>{b(e),w(!0)},q=N?g[N]:null,M=p.find(e=>e.id===N);return(0,a.jsxs)("div",{className:"max-w-7xl mx-auto h-[calc(100vh-120px)] flex gap-6",children:[(0,a.jsxs)("div",{className:"w-72 flex-shrink-0 bg-white rounded-xl shadow-sm p-4 overflow-y-auto",children:[(0,a.jsxs)("h3",{className:"font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[(0,a.jsx)(r.Z,{className:"w-5 h-5"}),"疗愈场景"]}),(0,a.jsx)("div",{className:"space-y-2",children:p.map(e=>(0,a.jsxs)("button",{onClick:()=>_(e.id),className:"w-full text-left p-3 rounded-lg transition-colors flex items-center gap-3 ".concat(N===e.id?"bg-secondary-100 text-secondary-700":"hover:bg-gray-50"),children:[(0,a.jsx)("span",{className:"text-2xl",children:e.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-sm",children:e.name}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.description})]})]},e.id))}),(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[(0,a.jsxs)("h4",{className:"font-medium text-gray-700 mb-3 flex items-center gap-2",children:[(0,a.jsx)(i,{className:"w-4 h-4 text-yellow-500"}),"快速提示"]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,a.jsx)("p",{children:"• 输入具体情境获取话术"}),(0,a.jsx)("p",{children:"• 描述孩子的反应获取建议"}),(0,a.jsx)("p",{children:"• 选择场景查看详细指导"})]})]})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col bg-white rounded-xl shadow-sm overflow-hidden",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-secondary-400 to-secondary-600 flex items-center justify-center",children:(0,a.jsx)(c,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold",children:"疗愈助手"}),(0,a.jsxs)("span",{className:"text-xs text-green-500 flex items-center gap-1",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"在线"]})]})]}),(0,a.jsx)("button",{className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(d,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[e.map((e,s)=>(0,a.jsxs)("div",{className:"flex gap-3 ".concat("user"===e.role?"flex-row-reverse":""),children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ".concat("user"===e.role?"bg-secondary-500 text-white":"bg-gray-100 text-gray-600"),children:"user"===e.role?(0,a.jsx)(o.Z,{className:"w-4 h-4"}):(0,a.jsx)(c,{className:"w-4 h-4"})}),(0,a.jsxs)("div",{className:"max-w-[70%] rounded-2xl px-4 py-3 ".concat("user"===e.role?"bg-secondary-500 text-white rounded-tr-none":"bg-gray-100 text-gray-800 rounded-tl-none"),children:[(0,a.jsx)("p",{className:"whitespace-pre-line text-sm",children:e.content}),e.suggestions&&(0,a.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200/30 flex flex-wrap gap-2",children:e.suggestions.map((e,s)=>(0,a.jsx)("button",{onClick:()=>l(e),className:"text-xs px-2 py-1 bg-white/20 rounded-full hover:bg-white/30",children:e},s))})]})]},s)),y&&(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center",children:(0,a.jsx)(c,{className:"w-4 h-4 text-gray-600"})}),(0,a.jsx)("div",{className:"bg-gray-100 rounded-2xl rounded-tl-none px-4 py-3",children:(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,a.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-100"}),(0,a.jsx)("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-200"})]})})]}),(0,a.jsx)("div",{ref:k})]}),(0,a.jsx)("div",{className:"px-6 py-4 border-t border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("input",{type:"text",value:t,onChange:e=>l(e.target.value),onKeyPress:e=>"Enter"===e.key&&Z(),placeholder:"描述您的情境或问题...",className:"flex-1 px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-secondary-500 focus:border-transparent"}),(0,a.jsx)("button",{onClick:Z,disabled:!t.trim(),className:"p-3 bg-secondary-500 text-white rounded-xl hover:bg-secondary-600 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,a.jsx)(x.Z,{className:"w-5 h-5"})})]})})]}),v&&q&&M&&(0,a.jsxs)("div",{className:"w-80 flex-shrink-0 bg-white rounded-xl shadow-sm p-5 overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-2xl",children:M.icon}),(0,a.jsx)("h3",{className:"font-semibold",children:M.name})]}),(0,a.jsx)("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)(m.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"mb-5",children:[(0,a.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[(0,a.jsx)(i,{className:"w-4 h-4 text-green-500"}),"建议做法"]}),(0,a.jsx)("ul",{className:"space-y-2",children:q.tips.map((e,s)=>(0,a.jsxs)("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[(0,a.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 mt-1.5 flex-shrink-0"}),e]},s))})]}),(0,a.jsxs)("div",{className:"mb-5",children:[(0,a.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4 text-red-500"}),"避免做法"]}),(0,a.jsx)("ul",{className:"space-y-2",children:q.mistakes.map((e,s)=>(0,a.jsxs)("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[(0,a.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500 mt-1.5 flex-shrink-0"}),e]},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[(0,a.jsx)(d,{className:"w-4 h-4 text-blue-500"}),"示例对话"]}),(0,a.jsx)("div",{className:"space-y-3",children:q.examples.map((e,s)=>(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"text-xs text-gray-500 mb-1",children:["情境：",e.q]}),(0,a.jsxs)("div",{className:"text-sm text-gray-700 flex items-start gap-1",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4 text-secondary-500 flex-shrink-0"}),e.a]})]},s))})]})]})]})}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=27354)}),_N_E=e.O()}]);